"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[134],{134:function(t,e,n){n.r(e);var r=n(439),c=n(791),o=n(87),u=n(689),i=n(937),a=n(184);e.default=function(){var t=(0,c.useState)(),e=(0,r.Z)(t,2),n=e[0],f=e[1],s=(0,c.useState)(!1),h=(0,r.Z)(s,2),l=h[0],d=h[1],v=(0,o.lr)(),m=(0,r.Z)(v,2),p=m[0],g=m[1],b=(0,c.useState)(!1),j=(0,r.Z)(b,2),x=j[0],w=j[1],S=(0,u.TH)();return(0,c.useEffect)((function(){var t=p.get("query");if(!t)return g({}),void w(!1);d(!0),w(!0),(0,i.Xu)(t).then((function(t){if(t.ok)return t.json();throw new Error("Something wrong. Please, whrite correct request.")})).then((function(t){return f(t.results)})).catch((function(t){return alert(t)})).finally((function(){return d(!1)}))}),[p,g]),(0,a.jsxs)("div",{children:[(0,a.jsxs)("form",{onSubmit:function(t){t.preventDefault();var e=t.target.elements.search.value;g({query:e})},children:[(0,a.jsx)("label",{children:(0,a.jsx)("input",{type:"text",name:"search"})}),(0,a.jsx)("button",{type:"submit",children:"Search"})]}),l&&(0,a.jsx)("div",{children:"Loading..."}),x&&(0,a.jsx)("ul",{children:null===n||void 0===n?void 0:n.map((function(t){return(0,a.jsx)("li",{children:(0,a.jsx)(o.rU,{to:"/movies/".concat(t.id),state:{from:S},children:t.title})},t.id)}))})]})}},937:function(t,e,n){n.d(e,{JS:function(){return o},Xu:function(){return i},h1:function(){return f},ts:function(){return u},z6:function(){return a}});var r="https://api.themoviedb.org/3/",c="api_key=08b33049f839026db786bd595752148e";function o(){return fetch("".concat(r,"trending/movie/day?").concat(c))}function u(t){return fetch("".concat(r,"movie/").concat(t,"?").concat(c))}function i(t){return fetch("".concat(r,"search/movie?query=").concat(t,"&").concat(c))}function a(t){return fetch("".concat(r,"movie/").concat(t,"/credits?language=en-US&").concat(c))}function f(t){return fetch("".concat(r,"movie/").concat(t,"/reviews?language=en-US&").concat(c,"&page=1"))}}}]);
//# sourceMappingURL=134.7808920c.chunk.js.map